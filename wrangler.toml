name = "gb-heat-pump-app-v1"
main = "src/app.ts"
compatibility_date = "2024-10-22"
workers_dev = true

[[d1_databases]]
binding = "GREENBRO_DB"
database_name = "gb-heat-pump-app-v1-db"
database_id = "6d4293a3-6e4d-4414-9804-c59e1c697bc3"

[triggers]
crons = ["*/15 * * * *"]  # placeholder for later rule sweeps

# Secrets (set with `wrangler secret put`):
# ACCESS_AUD          -> Cloudflare Access AUD
# ACCESS_JWKS_URL     -> https://bradleyayliffl.cloudflareaccess.com/cdn-cgi/access/certs
# DEV_MODE (optional) -> "1" enables local dev bypass via X-Dev-User header
